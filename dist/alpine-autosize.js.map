{"version":3,"file":"alpine-autosize.js","sources":["../src/index.js","../builds/cdn.js"],"sourcesContent":["function Autosize(Alpine) {\n    Alpine.directive('autosize', (el, {}, { cleanup }) => {\n\n        const attributes = Array.from(el.attributes);\n\n        let hasWireModel = false;\n\n        for (let { nodeName } of attributes) {\n            if (nodeName === 'wire:model' || nodeName.startsWith('wire:model.')) {\n                hasWireModel = true;\n                break;\n            }\n        }\n\n        if (!el.hasAttribute('wire:ignore') && hasWireModel) {\n            el.setAttribute('wire:ignore', '');\n        }\n\n        const previousResizeValue = el.style.resize;\n        el.style.resize = 'none';\n\n        const previousMinHeight = el.style.minHeight;\n        el.style.minHeight = el.getBoundingClientRect().height + 'px';\n\n        const handler = (event) => {\n            const element = event.target;\n            if (!element.scrollHeight) {\n                return;\n            }\n            element.style.height = '4px';\n            element.style.height = `${element.scrollHeight}px`;\n        };\n\n        handler({ target: el });\n\n        el.addEventListener('input', handler);\n\n        cleanup(() => {\n            el.style.resize = previousResizeValue;\n            el.style.minHeight = previousMinHeight;\n            el.removeEventListener('input', handler);\n        });\n    });\n}\n\nexport default Autosize;\n","import autosize from '../src/index.js';\n\ndocument.addEventListener('alpine:init', () => {\n    autosize(window.Alpine);\n});\n"],"names":["Autosize","Alpine","directive","el","cleanup","attributes","Array","from","hasWireModel","nodeName","startsWith","hasAttribute","setAttribute","previousResizeValue","style","resize","previousMinHeight","minHeight","getBoundingClientRect","height","handler","event","element","target","scrollHeight","addEventListener","removeEventListener","document","autosize","window"],"mappings":";;;;;IAAA,SAASA,QAAT,CAAkBC,MAAlB,EAA0B;IACtBA,EAAAA,MAAM,CAACC,SAAP,CAAiB,UAAjB,EAA6B,CAACC,EAAD,EAAK,EAAL,EAAS;IAAEC,IAAAA;IAAF,GAAT,KAAyB;IAElD,UAAMC,UAAU,GAAGC,KAAK,CAACC,IAAN,CAAWJ,EAAE,CAACE,UAAd,CAAnB;IAEA,QAAIG,YAAY,GAAG,KAAnB;;IAEA,SAAK,IAAI;IAAEC,MAAAA;IAAF,KAAT,IAAyBJ,UAAzB,EAAqC;IACjC,UAAII,QAAQ,KAAK,YAAb,IAA6BA,QAAQ,CAACC,UAAT,CAAoB,aAApB,CAAjC,EAAqE;IACjEF,QAAAA,YAAY,GAAG,IAAf;IACA;IACH;IACJ;;IAED,QAAI,CAACL,EAAE,CAACQ,YAAH,CAAgB,aAAhB,CAAD,IAAmCH,YAAvC,EAAqD;IACjDL,MAAAA,EAAE,CAACS,YAAH,CAAgB,aAAhB,EAA+B,EAA/B;IACH;;IAED,UAAMC,mBAAmB,GAAGV,EAAE,CAACW,KAAH,CAASC,MAArC;IACAZ,IAAAA,EAAE,CAACW,KAAH,CAASC,MAAT,GAAkB,MAAlB;IAEA,UAAMC,iBAAiB,GAAGb,EAAE,CAACW,KAAH,CAASG,SAAnC;IACAd,IAAAA,EAAE,CAACW,KAAH,CAASG,SAAT,GAAqBd,EAAE,CAACe,qBAAH,GAA2BC,MAA3B,GAAoC,IAAzD;;IAEA,UAAMC,OAAO,GAAIC,KAAD,IAAW;IACvB,YAAMC,OAAO,GAAGD,KAAK,CAACE,MAAtB;;IACA,UAAI,CAACD,OAAO,CAACE,YAAb,EAA2B;IACvB;IACH;;IACDF,MAAAA,OAAO,CAACR,KAAR,CAAcK,MAAd,GAAuB,KAAvB;IACAG,MAAAA,OAAO,CAACR,KAAR,CAAcK,MAAd,GAAwB,GAAEG,OAAO,CAACE,YAAa,IAA/C;IACH,KAPD;;IASAJ,IAAAA,OAAO,CAAC;IAAEG,MAAAA,MAAM,EAAEpB;IAAV,KAAD,CAAP;IAEAA,IAAAA,EAAE,CAACsB,gBAAH,CAAoB,OAApB,EAA6BL,OAA7B;IAEAhB,IAAAA,OAAO,CAAC,MAAM;IACVD,MAAAA,EAAE,CAACW,KAAH,CAASC,MAAT,GAAkBF,mBAAlB;IACAV,MAAAA,EAAE,CAACW,KAAH,CAASG,SAAT,GAAqBD,iBAArB;IACAb,MAAAA,EAAE,CAACuB,mBAAH,CAAuB,OAAvB,EAAgCN,OAAhC;IACH,KAJM,CAAP;IAKH,GAzCD;IA0CH;;ICzCDO,QAAQ,CAACF,gBAAT,CAA0B,aAA1B,EAAyC,MAAM;IAC3CG,EAAAA,QAAQ,CAACC,MAAM,CAAC5B,MAAR,CAAR;IACH,CAFD;;;;;;"}