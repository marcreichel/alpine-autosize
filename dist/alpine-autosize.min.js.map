{"version":3,"file":"alpine-autosize.min.js","sources":["../builds/cdn.js","../src/index.js"],"sourcesContent":["import autosize from '../src/index.js';\n\ndocument.addEventListener('alpine:init', () => {\n    autosize(window.Alpine);\n});\n","function Autosize(Alpine) {\n    Alpine.directive('autosize', (el, {}, { cleanup }) => {\n\n        const attributes = Array.from(el.attributes);\n\n        let hasWireModel = false;\n\n        for (let { nodeName } of attributes) {\n            if (nodeName === 'wire:model' || nodeName.startsWith('wire:model.')) {\n                hasWireModel = true;\n                break;\n            }\n        }\n\n        if (!el.hasAttribute('wire:ignore') && hasWireModel) {\n            el.setAttribute('wire:ignore', '');\n        }\n\n        const previousResizeValue = el.style.resize;\n        el.style.resize = 'none';\n\n        const previousMinHeight = el.style.minHeight;\n        el.style.minHeight = el.getBoundingClientRect().height + 'px';\n\n        const handler = (event) => {\n            const element = event.target;\n            if (!element.scrollHeight) {\n                return;\n            }\n            element.style.height = '4px';\n            element.style.height = `${element.scrollHeight}px`;\n        };\n\n        handler({ target: el });\n\n        el.addEventListener('input', handler);\n\n        cleanup(() => {\n            el.style.resize = previousResizeValue;\n            el.style.minHeight = previousMinHeight;\n            el.removeEventListener('input', handler);\n        });\n    });\n}\n\nexport default Autosize;\n"],"names":["document","addEventListener","window","Alpine","directive","el","cleanup","attributes","Array","from","hasWireModel","nodeName","startsWith","hasAttribute","setAttribute","previousResizeValue","style","resize","previousMinHeight","minHeight","getBoundingClientRect","height","handler","event","element","target","scrollHeight","removeEventListener"],"mappings":"2FAEAA,SAASC,iBAAiB,eAAe,KAC5BC,OAAOC,OCFTC,UAAU,YAAY,CAACC,MAAUC,QAAAA,YAE9BC,EAAaC,MAAMC,KAAKJ,EAAGE,gBAE7BG,GAAe,MAEd,IAAIC,SAAEA,KAAcJ,KACJ,eAAbI,GAA6BA,EAASC,WAAW,eAAgB,CACjEF,GAAe,SAKlBL,EAAGQ,aAAa,gBAAkBH,GACnCL,EAAGS,aAAa,cAAe,UAG7BC,EAAsBV,EAAGW,MAAMC,OACrCZ,EAAGW,MAAMC,OAAS,aAEZC,EAAoBb,EAAGW,MAAMG,UACnCd,EAAGW,MAAMG,UAAYd,EAAGe,wBAAwBC,OAAS,WAEnDC,EAAWC,UACPC,EAAUD,EAAME,OACjBD,EAAQE,eAGbF,EAAQR,MAAMK,OAAS,MACvBG,EAAQR,MAAMK,OAAU,GAAEG,EAAQE,mBAGtCJ,EAAQ,CAAEG,OAAQpB,IAElBA,EAAGJ,iBAAiB,QAASqB,GAE7BhB,GAAQ,KACJD,EAAGW,MAAMC,OAASF,EAClBV,EAAGW,MAAMG,UAAYD,EACrBb,EAAGsB,oBAAoB,QAASL"}